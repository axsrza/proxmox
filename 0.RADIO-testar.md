
```bash
mkdir -p /opt/radio/config /opt/radio/mounts /opt/radio/scripts
cd /opt/radio
nano docker-compose.yml
```

```bash
services:
  icecast:
    image: oznu/icecast
    container_name: icecast
    ports:
      - "8000:8000"    # Porta para streaming
      - "8005:8005"    # Porta para administração
    volumes:
      - ./mounts:/mounts
      - ./config/icecast.xml:/etc/icecast/icecast.xml
    restart: unless-stopped

  liquidsoap:
    image: xdean/liquidsoap
    container_name: liquidsoap
    volumes:
      - ./scripts:/scripts
      - ./mounts:/mounts
    command: >
      liquidsoap /scripts/stream.liq
    depends_on:
      - icecast
    restart: unless-stopped
```

```bash
cd /opt/radio/config
nano /opt/radio/config/icecast.xml
```

```bash
<icecast>
  <location>Homelab Radio</location>
  <admin>admin@localhost</admin>

  <authentication>
    <source-password>sourcepass</source-password>
    <admin-password>adminpass</admin-password>
    <relay-password>relaypass</relay-password>
    <user>admin</user>
    <password>adminpass</password>
  </authentication>

  <hostname>localhost</hostname>

  <limits>
    <clients>100</clients>
    <sources>2</sources>
    <queue-size>524288</queue-size>
    <client-timeout>30</client-timeout>
    <header-timeout>15</header-timeout>
    <source-timeout>10</source-timeout>
  </limits>

  <mount>
    <mount-name>/radio</mount-name>
    <max-listeners>100</max-listeners>
    <public>1</public>
  </mount>

  <listen-socket>
    <port>8000</port>
  </listen-socket>

  <fileserve>1</fileserve>

  <paths>
    <logdir>/var/log/icecast</logdir>
    <webroot>/usr/share/icecast2/web</webroot>
    <adminroot>/usr/share/icecast2/admin</adminroot>
    <alias source="/" destination="/status.xsl"/>
  </paths>

  <logging>
    <accesslog>access.log</accesslog>
    <errorlog>error.log</errorlog>
    <loglevel>3</loglevel>
  </logging>
</icecast>
```

```bash
docker compose up -d
```
