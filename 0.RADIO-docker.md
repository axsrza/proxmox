
![Liquidsoap](https://img.shields.io/badge/liquidsoap-2.0-blue?logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0id2hpdGUiIGQ9Ik0xMiAwQzUuMzcgMCAwIDUuMzcgMCAxMnM1LjM3IDEyIDEyIDEyIDEyLTUuMzcgMTItMTJTMTguNjMgMCAxMiAwbTAgMS43NWM1LjYxIDAgMTAuMjUgNC42NCAxMC4yNSAxMC4yNVMxNy42MSAyMi4yNSAxMiAyMi4yNVMxLjc1IDE3LjYxIDEuNzUgMTIgNi4zOSAxLjc1IDEyIDEuNzVtLTEuNSA0LjV2MTIuNWgzdjEyLjVIMTJjLTQuMTQgMC03LjUtMy4zNi03LjUtNy41aDMuMjVjMCAyLjM2IDEuODkgNC4yNSA0LjI1IDQuMjVzNC4yNS0xLjg5IDQuMjUtNC4yNUgxOEMxOCA4LjgxIDE1LjE5IDYgMTIgNnYxLjVoLTF6Ii8+PC9zdmc+&logoColor=white)
![Icecast](https://img.shields.io/badge/icecast-2.4-blue?logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0id2hpdGUiIGQ9Ik0xMiAwQzUuMzcgMCAwIDUuMzcgMCAxMnM1LjM3IDEyIDEyIDEyIDEyLTUuMzcgMTItMTJTMTguNjMgMCAxMiAwbTAgMS43NWM1LjYxIDAgMTAuMjUgNC42NCAxMC4yNSAxMC4yNVMxNy42MSAyMi4yNSAxMiAyMi4yNVMxLjc1IDE3LjYxIDEuNzUgMTIgNi4zOSAxLjc1IDEyIDEuNzVtLTYuNSA0LjV2MTJoMTN2LTEySDUuNXptMS41IDEuNWg0djloLTR2LTl6bTYgMGg0djlIMTJ2LTl6Ii8+PC9zdmc+&logoColor=white)

---

```bash
mkdir -p /opt/radio
nano /opt/radio/docker-compose.yml
```

---

## üìã docker-compose.yml

```yaml
version: '3.8'

services:
  icecast:
    image: moul/icecast
    container_name: icecast
    ports:
      - "8000:8000"
    environment:
      - ICECAST_SOURCE_PASSWORD=hackme
      - ICECAST_ADMIN_PASSWORD=hackme
      - ICECAST_RELAY_PASSWORD=hackme
    networks:
      - radio-net

  liquidsoap:
    image: savonet/liquidsoap
    container_name: liquidsoap
    volumes:
      - ./liquidsoap:/etc/liquidsoap
      - /home/homelab/music:/home/music   # ‚Üê Aqui est√° o novo caminho!
    depends_on:
      - icecast
    command: ["liquidsoap", "/etc/liquidsoap/radio.liq"]
    networks:
      - radio-net

networks:
  radio-net:
    driver: bridge
```

---

```bash
mkdir -p /opt/radio/liquidsoap
nano /opt/radio/liquidsoap/radio.liq
```

## üéµ radio.liq (Liquidsoap)

```liquidsoap
set("init.allow_root", true)
set("log.file", false)

radio_playlist = playlist(mode="random", reload_mode="watch", "/home/music")
radio = fallback(track_sensitive = false, [radio_playlist, blank()])

output.icecast(%mp3,
  host = "icecast",
  port = 8000,
  password = "hackme",
  mount = "radio.mp3",
  name = "Minha R√°dio Caseira",
  description = "R√°dio com m√∫sicas aleat√≥rias",
  genre = "Lo-fi, Worship, Mix",
  url = "http://localhost:8000/radio.mp3",
  public = true,
  source = radio)
```

---

## üöÄ Rodando a R√°dio

```bash
cd /opt/radio
sudo docker-compose up -d
```

---

- Se quiser reiniciar tudo:
  ```bash
  docker-compose down && docker-compose up -d
  ```
  
---













  ```bash
services:
  liquidsoap:
    image: savonet/liquidsoap:v2.3.2
    container_name: liquidsoap
    volumes:
      - ./radio.liq:/etc/liquidsoap/radio.liq
      - /home/homelab/music:/home/music
      - ./logs:/var/log/liquidsoap
    restart: unless-stopped
    command: ["liquidsoap", "/etc/liquidsoap/radio.liq"]
    extra_hosts:
      - "host.docker.internal:host-gateway"
```
