# Documentação: Execução automática do btop na tty1 com systemd

Este processo configura o `btop` para iniciar automaticamente na tty1 (primeiro terminal virtual), utilizando o systemd e executando como um usuário não-root chamado `btop`.

## Pré-requisitos

- Debian 12 instalado (sem interface gráfica)
- `btop` instalado
- Usuário chamado `btop` criado no sistema

## Passo a passo

### 1. Crie o usuário `btop`

```bash
sudo adduser --disabled-password --gecos "" btop
```

### 2. Crie o arquivo de unidade systemd

```bash
sudo nano /etc/systemd/system/btop-tty.service
```

Cole o seguinte conteúdo:

```ini
[Unit]
Description=Exibe o btop na tty1
After=network.target

[Service]
ExecStart=/usr/bin/btop
StandardInput=tty
StandardOutput=tty
TTYPath=/dev/tty1
TTYReset=yes
TTYVHangup=yes
KillMode=process
Restart=always
User=btop
WorkingDirectory=/home/btop

[Install]
WantedBy=multi-user.target
```

> ⚠️ Importante: A diretiva `User=btop` garante que o processo será executado como o usuário `btop` e **não como root**.

### 3. Desative o `getty@tty1` padrão

```bash
sudo systemctl disable getty@tty1.service
```

### 4. Habilite e inicie o novo serviço

```bash
sudo systemctl daemon-reload
sudo systemctl enable btop-tty.service
sudo systemctl start btop-tty.service
```

---

Agora, ao iniciar o sistema, o `btop` será exibido automaticamente na tty1, rodando com o usuário `btop`, sem precisar de login.

